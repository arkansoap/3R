<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Vizualization of covariance and correlation | Econometrics vizualisation</title>
  <meta name="description" content="First try of bookdown" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Vizualization of covariance and correlation | Econometrics vizualisation" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="First try of bookdown" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Vizualization of covariance and correlation | Econometrics vizualisation" />
  
  <meta name="twitter:description" content="First try of bookdown" />
  

<meta name="author" content="Lucas Chaveneau, Thibault Fuchez, Allan Guichard" />


<meta name="date" content="2021-11-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="la-corrélation.html"/>
<link rel="next" href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="la-covariance.html"><a href="la-covariance.html"><i class="fa fa-check"></i><b>2</b> La covariance</a>
<ul>
<li class="chapter" data-level="2.1" data-path="la-covariance.html"><a href="la-covariance.html#rappel-de-la-définition-de-la-variance"><i class="fa fa-check"></i><b>2.1</b> Rappel de la définition de la variance :</a></li>
<li class="chapter" data-level="2.2" data-path="la-covariance.html"><a href="la-covariance.html#définition-littéraire-usuelle-de-la-covariance"><i class="fa fa-check"></i><b>2.2</b> Définition littéraire usuelle de la covariance</a></li>
<li class="chapter" data-level="2.3" data-path="la-covariance.html"><a href="la-covariance.html#définitions-mathématique-usuelle-et-alternatives"><i class="fa fa-check"></i><b>2.3</b> Définitions mathématique usuelle et alternatives</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="la-corrélation.html"><a href="la-corrélation.html"><i class="fa fa-check"></i><b>3</b> La corrélation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="la-corrélation.html"><a href="la-corrélation.html#de-la-covariance-à-la-corrélation"><i class="fa fa-check"></i><b>3.1</b> de la covariance à la corrélation</a></li>
<li class="chapter" data-level="3.2" data-path="la-corrélation.html"><a href="la-corrélation.html#la-corrélation-1"><i class="fa fa-check"></i><b>3.2</b> la corrélation :</a></li>
<li class="chapter" data-level="3.3" data-path="la-corrélation.html"><a href="la-corrélation.html#pearson-correlation-coefficient"><i class="fa fa-check"></i><b>3.3</b> Pearson correlation coefficient</a></li>
<li class="chapter" data-level="3.4" data-path="la-corrélation.html"><a href="la-corrélation.html#spearmans-rank-correlation-coefficient"><i class="fa fa-check"></i><b>3.4</b> Spearman’s rank correlation coefficient</a></li>
<li class="chapter" data-level="3.5" data-path="la-corrélation.html"><a href="la-corrélation.html#corrélation-partielle"><i class="fa fa-check"></i><b>3.5</b> Corrélation partielle</a></li>
<li class="chapter" data-level="3.6" data-path="la-corrélation.html"><a href="la-corrélation.html#thirteen-ways-to-see-correlation-13cor"><i class="fa fa-check"></i><b>3.6</b> thirteen ways to see correlation <span class="citation">(<span>Rodgers and co 1988</span>)</span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html"><i class="fa fa-check"></i><b>4</b> Vizualization of covariance and correlation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#différentes-tentatives-pour-représenter-la-covariance"><i class="fa fa-check"></i><b>4.1</b> Différentes tentatives pour représenter la covariance</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#diagramme-de-venn"><i class="fa fa-check"></i><b>4.1.1</b> diagramme de Venn</a></li>
<li class="chapter" data-level="4.1.2" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#visualizing-distributions-of-covariance-matrices"><i class="fa fa-check"></i><b>4.1.2</b> Visualizing Distributions of Covariance Matrices</a></li>
<li class="chapter" data-level="4.1.3" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#visualization-of-covariance-and-cross-covariance-fields-à-ne-pas-inclure"><i class="fa fa-check"></i><b>4.1.3</b> Visualization of covariance and cross-covariance fields (à ne pas inclure …)</a></li>
<li class="chapter" data-level="4.1.4" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#a-geometrical-interpretation-of-an-alternative-formula-for-the-sample-covariance"><i class="fa fa-check"></i><b>4.1.4</b> A Geometrical Interpretation of an Alternative Formula for the Sample Covariance</a></li>
<li class="chapter" data-level="4.1.5" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#covariance-as-signed-area-of-rectangles"><i class="fa fa-check"></i><b>4.1.5</b> Covariance as Signed Area of Rectangles</a></li>
<li class="chapter" data-level="4.1.6" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#covariance-and-regression-diagram"><i class="fa fa-check"></i><b>4.1.6</b> Covariance and regression diagram</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="vizualization-of-covariance-and-correlation.html"><a href="vizualization-of-covariance-and-correlation.html#notre-projet-le-package-plotnetrec"><i class="fa fa-check"></i><b>4.2</b> Notre projet : le package plotnetrec</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"><a href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"><i class="fa fa-check"></i><b>5</b> Diagramme de régression et représentation du coefficient de détermination</a>
<ul>
<li class="chapter" data-level="5.1" data-path="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"><a href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html#ols-deux-variables"><i class="fa fa-check"></i><b>5.1</b> OLS deux variables</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"><a href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html#simple-linear-regression-model"><i class="fa fa-check"></i><b>5.1.1</b> simple linear regression model</a></li>
<li class="chapter" data-level="5.1.2" data-path="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"><a href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html#measuring-overall-variation-from-the-sample-line"><i class="fa fa-check"></i><b>5.1.2</b> Measuring overall variation from the sample line</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"><a href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html#ols-3-variables"><i class="fa fa-check"></i><b>5.2</b> OLS 3 variables</a></li>
<li class="chapter" data-level="5.3" data-path="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html"><a href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html#ols-3-variables-et-plus"><i class="fa fa-check"></i><b>5.3</b> OLS 3 variables et plus</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="reoprésentation-de-la-régression-linéaire.html"><a href="reoprésentation-de-la-régression-linéaire.html"><i class="fa fa-check"></i><b>6</b> Reoprésentation de la régression linéaire</a>
<ul>
<li class="chapter" data-level="6.1" data-path="reoprésentation-de-la-régression-linéaire.html"><a href="reoprésentation-de-la-régression-linéaire.html#etat-des-lieux-de-la-visualisation-de-la-régression"><i class="fa fa-check"></i><b>6.1</b> Etat des lieux de la visualisation de la régression</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="reoprésentation-de-la-régression-linéaire.html"><a href="reoprésentation-de-la-régression-linéaire.html#more-on-venn-diagrams-for-regression"><i class="fa fa-check"></i><b>6.1.1</b> More on Venn Diagrams for Regression</a></li>
<li class="chapter" data-level="6.1.2" data-path="reoprésentation-de-la-régression-linéaire.html"><a href="reoprésentation-de-la-régression-linéaire.html#a-geometric-approach-to-compare-variables-in-a-regression-model"><i class="fa fa-check"></i><b>6.1.2</b> A Geometric Approach to Compare Variables in a Regression Model</a></li>
<li class="chapter" data-level="6.1.3" data-path="reoprésentation-de-la-régression-linéaire.html"><a href="reoprésentation-de-la-régression-linéaire.html#two-additional-views-of-linear-regression-coefficients"><i class="fa fa-check"></i><b>6.1.3</b> Two Additional Views of Linear Regression Coefficients</a></li>
<li class="chapter" data-level="6.1.4" data-path="reoprésentation-de-la-régression-linéaire.html"><a href="reoprésentation-de-la-régression-linéaire.html#covariance-and-regression-diagram-1"><i class="fa fa-check"></i><b>6.1.4</b> Covariance and regression diagram</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="reoprésentation-de-la-régression-linéaire.html"><a href="reoprésentation-de-la-régression-linéaire.html#notre-projet-le-package-plotnetrec-1"><i class="fa fa-check"></i><b>6.2</b> Notre projet: le package plotnetrec</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="etat-des-lieux-des-package-r-en-économétrie-de-la-visualisation.html"><a href="etat-des-lieux-des-package-r-en-économétrie-de-la-visualisation.html"><i class="fa fa-check"></i><b>7</b> Etat des lieux des package R en économétrie de la visualisation</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Econometrics vizualisation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vizualization-of-covariance-and-correlation" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Vizualization of covariance and correlation</h1>
<div id="différentes-tentatives-pour-représenter-la-covariance" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Différentes tentatives pour représenter la covariance</h2>
<div id="diagramme-de-venn" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> diagramme de Venn</h3>
<blockquote>
<p>A Venn diagram is a widely used diagram style that shows the logical relation between sets, popularized by John Venn in the 1880s. The diagrams are used to teach elementary set theory, and to illustrate simple set relationships in probability, logic, statistics, linguistics and computer science. A Venn diagram uses simple closed curves drawn on a plane to represent sets. Very often, these curves are circles or ellipses.</p>
</blockquote>
<p><em>A compléter + insérer diagram</em></p>
</div>
<div id="visualizing-distributions-of-covariance-matrices" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Visualizing Distributions of Covariance Matrices</h3>
<p>Covariance matrices and their corresponding distributions play an important role in statistics. To understand the properties of distributions, we often rely on visualization methods. <span class="citation">(<a href="#ref-VisCov" role="doc-biblioref">Tokudaa and co 2011</a>)</span></p>
<p>But visualizing a distribution in a high-dimensional space is a challenge, with the additional
difficulty that covariance matrices must be positive semi-definite, a restriction that forces
the joint distribution of the covariances into an oddly-shaped subregion of the space.</p>
<p><em>je suis dépassé par cet article…</em></p>
<p><img src="wtf_covViz.PNG" /><!-- --></p>
</div>
<div id="visualization-of-covariance-and-cross-covariance-fields-à-ne-pas-inclure" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Visualization of covariance and cross-covariance fields (à ne pas inclure …)</h3>
<p><em>A étudier, qu’est ce que covariance fields exactement…? </em> <span class="citation">(<a href="#ref-fields" role="doc-biblioref">Yang and co 2011</a>)</span></p>
<p>In mathematics, a field is a set on which addition, subtraction, multiplication, and division are defined and behave as the corresponding operations on rational and real numbers do. A field is thus a fundamental algebraic structure which is widely used in algebra, number theory, and many other areas of mathematics.</p>
<p><em>les schémas ont l’air intéressant mais les calculs et le sujet ont l’air trop complexes….</em></p>
<blockquote>
<p>In this paper, we present a numerical technique to visualize covariance and cross-covariance fields of two-dimensional stochastic simulation.</p>
</blockquote>
</div>
<div id="a-geometrical-interpretation-of-an-alternative-formula-for-the-sample-covariance" class="section level3" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> A Geometrical Interpretation of an Alternative Formula for the Sample Covariance</h3>
<p>Kevin Hayes <span class="citation">(<a href="#ref-Hayes" role="doc-biblioref">Hayes 2011</a>)</span> propose une nouvelle interprétation géométrique et visuelle de la covaraiance, à partir de l’application de la formule de la variance poposée par Hefferman. Il étend cette formule à la covariance d’un échantillon pour extraire ses résultats.</p>
<ul>
<li>formula from heffernan definition of covariance :</li>
</ul>
<p><span class="math display">\[cov(X,Y)= \frac{2}{n(n-1)}\sum_{i=1}^{n-1}\sum_{j&gt;i}^{n}\frac{1}{2}(x_i-x_j)(y_i - y_j)\]</span></p>
<p>Geometrically, <span class="math inline">\(\frac{1}{2}(x_i-x_j)(y_i - y_j)\)</span> is ±1 times the area right-triangle formed with the difference vector <span class="math inline">\((x_i — x_j, y_j)\)</span> as its hypotenuse, where negatively sloped difference tors incur a <span class="math inline">\((—1)\)</span> sign and positively sloped difference vectors take a <span class="math inline">\((+1)\)</span> sign. <span class="citation">(<a href="#ref-Hayes" role="doc-biblioref">Hayes 2011</a>)</span></p>
<p><strong><em>A détailler et reformuler</em></strong></p>
<p><img src="hayes.PNG" /><!-- --></p>
</div>
<div id="covariance-as-signed-area-of-rectangles" class="section level3" number="4.1.5">
<h3><span class="header-section-number">4.1.5</span> Covariance as Signed Area of Rectangles</h3>
<p>Cet article <span class="citation">(<a href="#ref-chudzicki" role="doc-biblioref">Chudzicki 2014</a>)</span> a été écrit suite à une conversation trrès intéressante sur le site <strong>stats.statckexchange</strong> (<a href="https://stats.stackexchange.com/questions/18058/how-would-you-explain-covariance-to-someone-who-understands-only-the-mean" class="uri">https://stats.stackexchange.com/questions/18058/how-would-you-explain-covariance-to-someone-who-understands-only-the-mean</a>.) Le sujet initial de cette conversation était : comment expliquer la covariance à quelqu’un qui ne comprends que la notion de moyenne?</p>
<p>mode d’emploi :</p>
<ul>
<li>Draw all possible such rectangles. Color them transparently, making the positive rectangles red (say) and the negative rectangles “anti-red” (blue).</li>
<li>The covariance is the net amount of red in the plot (treating blue as negative values).</li>
</ul>
<p>Let’s deduce some properties of covariance. Understanding of these properties will be accessible to anyone who has actually drawn a few of the rectangles. :</p>
<ul>
<li>Bilinearity.</li>
</ul>
<p>Because the amount of red depends on the size of the plot, covariance is directly proportional to the scale on the x-axis and to the scale on the y-axis.</p>
<ul>
<li>Correlation.</li>
</ul>
<p>Covariance increases as the points approximate an upward sloping line and decreases as the points approximate a downward sloping line. This is because in the former case most of the rectangles are positive and in the latter case, most are negative.</p>
<ul>
<li>Relationship to linear associations.</li>
</ul>
<p>Because non-linear associations can create mixtures of positive and negative rectangles, they lead to unpredictable (and not very useful) covariances. Linear associations can be fully interpreted by means of the preceding two characterizations.</p>
<ul>
<li>Sensitivity to outliers.</li>
</ul>
<p>A geometric outlier (one point standing away from the mass) will create many large rectangles in association with all the other points. It alone can create a net positive or negative amount of red in the overall picture.</p>
<p><img src="covRect.PNG" /><!-- --></p>
</div>
<div id="covariance-and-regression-diagram" class="section level3" number="4.1.6">
<h3><span class="header-section-number">4.1.6</span> Covariance and regression diagram</h3>
<p>Notre point de départ pour ce package est le travail réalisé par notre professeur <span class="citation">(<a href="#ref-bousquet" role="doc-biblioref">Bousquet 2021</a>)</span></p>
<p><em>schéma des différentes visualisations de la covariance</em></p>
</div>
</div>
<div id="notre-projet-le-package-plotnetrec" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Notre projet : le package plotnetrec</h2>
<p>Une partie du package que nous en sommes en train de développer consiste à représenter la covariance.</p>
<p><strong><em>mettre schémas de représentation covariance issu de pltnetrec avec explications</em></strong></p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-bousquet" class="csl-entry">
Bousquet, Alain. 2021. <em>Covariance and Regression Diagram</em>.
</div>
<div id="ref-chudzicki" class="csl-entry">
Chudzicki, David. 2014. <em>Covariance as Signed Area of Rectangles</em>. <a href="https://www.davidchudzicki.com/posts/covariance-as-signed-area-of-rectangles/">https://www.davidchudzicki.com/posts/covariance-as-signed-area-of-rectangles/</a>.
</div>
<div id="ref-Hayes" class="csl-entry">
Hayes, Kevin. 2011. <em>Geometrical Interpretation of an Alternative Formula for the Sample Covariance</em>. <a href="https://www.jstor.org/stable/23020503">https://www.jstor.org/stable/23020503</a>.
</div>
<div id="ref-VisCov" class="csl-entry">
Tokudaa, Tomoki, and co. 2011. <em>Visualizing Distributions of Covariance Matrices</em>. University of Leuven, Belgium, Columbia University, New York, NY, USA.
</div>
<div id="ref-fields" class="csl-entry">
Yang, Chao, and co. 2011. <em>Visualizing Distributions of Covariance Matrices</em>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="la-corrélation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="diagramme-de-régression-et-représentation-du-coefficient-de-détermination.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-covariane_correlation_vizualsitaion.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
